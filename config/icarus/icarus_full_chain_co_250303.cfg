# ICARUS full chain collection-only configuration (March 03, 2025 version)
# Uses calib_v4 weights
include: icarus_base_co.cfg

override:
  # Weight path
  model.weight_path: /sdf/data/neutrino/icarus/spine/train/mpvmpr_v03/weights/full_chain/calib_v4/snapshot-1999.ckpt

  # Loss adjustments
  model.modules.grappa_shower_loss.node_loss.use_closest: null

  # Post-processors related to showers not used in this config
  post-:
    - start_dedx
    - end_dedx
    - time_containment
    - particle_spread
    - shower_conversion_distance
    - shower_start_correction
    - shower_start_merge
    - start_straightness
  
  # Older post-processor settings
  post.containment-:
    - truth_point_mode
    - exclude_pids
  post.containment.min_particle_sizes:
    0: 25
    1: 25
  
  post.shape_logic-: maximum_michel_ke

  post.topology_threshold-: truth_ke_mode
  post.topology_threshold.ke_thresholds:
    4: 50
    default: 25

  post.vertex-: update_orientations
