# SBND Full Chain Configuration - March 28th, 2025
# Simulation configuration for SBND
include: sbnd_base.cfg

override:
  # MPV/MPR v02 restricted weight path
  model.weight_path: /sdf/data/neutrino/sbnd/train/mpvmpr_v02/weights/full_chain/restrict_250516/snapshot-6499.ckpt # S3DF
  #model.weight_path: /lus/eagle/projects/neutrinoGPU/bearc/spine_weights/mpvmpr_v02/weights/full_chain/grappa_inter/restrict_250516/snapshot-6499.ckpt # Polaris

  # Loss adjustments
  model.modules.grappa_inter.nodes.grouping_through_track: null

  # Post-processor not yet used
  post.time_containment: null

  # Post-processor adjustments
  post.containment-: exclude_pids
  post.containment.min_particle_sizes:
    0: 25
    1: 25

  post.topology_threshold.ke_thresholds:
    4: 50
    default: 25

  post.cathode_crosser.crossing_point_tolerance: 565.685
  post.cathode_crosser.adjust_crossers: true
  post.cathode_crosser-: adjust_method

  post.apply_calibrations.gain.gain: 49.826

  post.flash_match-:
    - time_contained
    - max_cathode_offset

  post.mcs_ke.res_a: 0.315
  post.mcs_ke.res_b: 1.197
  post.mcs_ke.res_mixture: null
  post.mcs_ke.res_weight_ratio: null
  post.mcs_ke.res_scale_ratio: null
